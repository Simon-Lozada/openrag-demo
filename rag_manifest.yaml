meta:
  id: proyecto-demo-v1
  version: 0.1.0
  owner: tu-usuario

config:
  # --- Umbrales Globales ---
  threshold: 0.3                # Mínimo VOI para poda
  top_k: 3                      # Top embeddings a recuperar
  semantic_merge_threshold: 0.85 # Fusión semántica
  relevance_threshold: 0.45     # Aceptación de contribuciones
  embedding_dim: 384            # Dimensión del vector

  # --- Modelos de IA (INDENTADO DENTRO DE CONFIG) ---
  models:
    # 0. Modelo de embedding (Local/HuggingFace)
    embedding: 
      model: "all-MiniLM-L6-v2"
      embedding_dim: 384
    
    # 1. Extracción (Ingestion): Preciso
    extraction: 
      model: "gemini-2.0-flash-lite"
      temperature: 0.0
    
    # 2. Evaluación (Judge): Objetivo
    evaluation: 
      model: "gemini-2.0-flash-lite"
      temperature: 0.1
    
    # 3. Inferencia (Agente): Creativo
    inference: 
      model: "gemini-2.0-flash-lite"
      temperature: 0.5

  # --- Base de Datos (INDENTADO DENTRO DE CONFIG) ---
  database: 
    type: "aura"
    uri: "neo4j+s://7b3d0a97.databases.neo4j.io:7687"
    user: "neo4j"
    password_secret: "NEO4J_PASSWORD"


ontology:
  # Definición de Nodos (La estructura de capas)
  nodes:
  - name: Fuente
    description: "Origen de la verdad (API, PDF, Usuario). Posee credibilidad y temporalidad."
  - name: Dato
    description: "Unidad atómica de información (Hecho). Reemplaza al antiguo 'Chunk' de texto."
  - name: Concepto
    description: "Entidad del dominio (ej. 'Dólar', 'Presión'). Núcleo del grafo."

  # Definición de Relaciones (El flujo lógico)
  relations:
  - source: Fuente
    target: Dato
    label: CONTAINS
    description: "Vincula un hecho con su origen. Incluye la propiedad 'location_code'."
  
  - source: Dato
    target: Concepto
    label: REFERS_TO
    description: "Conecta un hecho con la idea que representa."
  
  - source: Concepto
    target: Concepto
    label: RELATES_TO
    description: "Relación semántica cualitativa entre dos conceptos."
  
  - source: Concepto
    target: Concepto
    label: MATH_RELATION
    description: "Relación cuantitativa o fórmula matemática entre variables."

sources:
# api dinamica del precio del dolar 
- id: dolar-blue-api
  type: DYNAMIC_API # define si el dato es fijo o dinamico 
  endpoint: https://dolarapi.com/v1/dolares/blue # ruta de los datos
  trust_level: 1.5 # nivel de confianza en la funete de informaicon
  global_concepts: ["dolar"] # conceptos semilla iniciales para los datos provinientes de esta fuente
  description: "Valores actualizados de cotización para la compra y venta del Dólar Blue en Argentina. Incluye precio de venta y fecha de actualización."
  update_frequency: 1h
  # Convertimos los datos crudos en afirmaciones lógicas completas.
  transformation_template: |
    Reporte oficial del Mercado Cambiario en Argentina actualizado al {{ fechaActualizacion }}.
    El tipo de cambio financiero denominado Dólar {{ nombre }} (categoría {{ casa }}) opera en moneda {{ moneda }}.
    Se registra un valor de compra de {{ compra }} pesos argentinos.
    Se registra un valor de venta de {{ venta }} pesos argentinos.

# PDF fijo
- id: dollar-dedollarization-es-pdf
  type: STATIC_FILE # define si el dato es fijo o dinamico
  global_concepts: ["dolar", "economia_argentina"] # conceptos semilla iniciales para los datos provinientes de esta fuente
  path: data/dollar_dedollarization_es.pdf # ruta de los datos
  trust_level: 1.0 # nivel de confianza en la funete de informaicon
  description: "Informe económico sobre la desdolarización global."

# Capa fria, contribuciones externas
- id: cold-layer-contributions
  type: CONTRIBUTION_QUEUE
  path: data/contributions/pending_contributions.json
  # trust_level: ELIMINADO (Ahora depende de cada contribuyente individualmente)
  description: "Cola de conocimientos aportados por expertos del dominio, pendientes de validación."
# test pre definidos
benchmarks:
  - question: "¿Posible intervención secreta mañana en el dolar?"
    ground_truth:
      # Estrategia 1: Respuesta Esperada Literal
      answer: "No existe información en las fuentes oficiales sobre intervenciones secretas, hay rumores."

  - question: "¿Qué cotización del Dolar Blue figura en el sistema?"
    ground_truth:
      # Estrategia 2: Validación por Keywords
      keywords: ["compra", "venta", "Dolar", "Blue"]
      logic: "must_contain_all"
      
tools:
- name: calculator
  type: CUSTOM
  path: tools/calculator_tool.py
  factory: create_calculator_tool
